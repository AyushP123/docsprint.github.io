<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Features removed from Xapian &#8212; Getting Started with Xapian v1.4.1</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.4.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="Getting Started with Xapian v1.4.1" href="../index.html" />
    <link rel="up" title="Deprecation of features" href="index.html" />
    <link rel="next" title="Glossary" href="../glossary.html" />
    <link rel="prev" title="Features currently marked for deprecation" href="features_deprecated.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../glossary.html" title="Glossary"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="features_deprecated.html" title="Features currently marked for deprecation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Getting Started with Xapian v1.4</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Deprecation of features</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="features-removed-from-xapian">
<span id="deprecated-features"></span><h1><a class="toc-backref" href="#id19">Features removed from Xapian</a><a class="headerlink" href="#features-removed-from-xapian" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of contents</p>
<ul class="simple">
<li><a class="reference internal" href="#features-removed-from-xapian" id="id19">Features removed from Xapian</a><ul>
<li><a class="reference internal" href="#native-c-api" id="id20">Native C++ API</a></li>
<li><a class="reference internal" href="#bindings" id="id21">Bindings</a></li>
<li><a class="reference internal" href="#omega" id="id22">Omega</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="native-c-api">
<h2><a class="toc-backref" href="#id20">Native C++ API</a><a class="headerlink" href="#native-c-api" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="28%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Removed</th>
<th class="head">Feature name</th>
<th class="head">Upgrade suggestion and comments</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1.0.0</td>
<td>QueryParser::set_stemming_options()</td>
<td><p class="first">Use <code class="docutils literal"><span class="pre">set_stemmer()</span></code>, <code class="docutils literal"><span class="pre">set_stemming_strategy()</span></code> and/or <code class="docutils literal"><span class="pre">set_stopper()</span></code>
instead:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">set_stemming_options(&quot;&quot;)</span></code> becomes
<code class="docutils literal"><span class="pre">set_stemming_strategy(Xapian::QueryParser::STEM_NONE)</span></code></li>
<li><code class="docutils literal"><span class="pre">set_stemming_options(&quot;none&quot;)</span></code> becomes
<code class="docutils literal"><span class="pre">set_stemming_strategy(Xapian::QueryParser::STEM_NONE)</span></code></li>
<li><code class="docutils literal"><span class="pre">set_stemming_options(LANG)</span></code> becomes
<code class="docutils literal"><span class="pre">set_stemmer(Xapian::Stem(LANG)</span></code> and
<code class="docutils literal"><span class="pre">set_stemming_strategy(Xapian::QueryParser::STEM_SOME)</span></code></li>
<li><code class="docutils literal"><span class="pre">set_stemming_options(LANG,</span> <span class="pre">false)</span></code> becomes
<code class="docutils literal"><span class="pre">set_stemmer(Xapian::Stem(LANG)</span></code> and
<code class="docutils literal"><span class="pre">set_stemming_strategy(Xapian::QueryParser::STEM_SOME)</span></code></li>
<li><code class="docutils literal"><span class="pre">set_stemming_options(LANG,</span> <span class="pre">true)</span></code> becomes
<code class="docutils literal"><span class="pre">set_stemmer(Xapian::Stem(LANG)</span></code> and
<code class="docutils literal"><span class="pre">set_stemming_strategy(Xapian::QueryParser::STEM_ALL)</span></code></li>
</ul>
<p class="last">If a third parameter is passed, <code class="docutils literal"><span class="pre">set_stopper(PARAM3)</span></code> and treat the first two
parameters as above.</p>
</td>
</tr>
<tr class="row-odd"><td>1.0.0</td>
<td>Enquire::set_sort_forward()</td>
<td><p class="first">Use <code class="docutils literal"><span class="pre">Enquire::set_docid_order()</span></code> instead:</p>
<blockquote class="last">
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">set_sort_forward(true)</span></code> becomes <code class="docutils literal"><span class="pre">set_docid_order(ASCENDING)</span></code></li>
<li><code class="docutils literal"><span class="pre">set_sort_forward(false)</span></code> becomes <code class="docutils literal"><span class="pre">set_docid_order(DESCENDING)</span></code></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td>1.0.0</td>
<td>Enquire::set_sorting()</td>
<td><p class="first">Use <code class="docutils literal"><span class="pre">Enquire::set_sort_by_relevance()</span></code>, <code class="docutils literal"><span class="pre">Enquire::set_sort_by_value()</span></code>, or
<code class="docutils literal"><span class="pre">Enquire::set_sort_by_value_then_relevance()</span></code> instead.</p>
<blockquote class="last">
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">set_sorting(KEY,</span> <span class="pre">1)</span></code> becomes <code class="docutils literal"><span class="pre">set_sort_by_value(KEY)</span></code></li>
<li><code class="docutils literal"><span class="pre">set_sorting(KEY,</span> <span class="pre">1,</span> <span class="pre">false)</span></code> becomes <code class="docutils literal"><span class="pre">set_sort_by_value(KEY)</span></code></li>
<li><code class="docutils literal"><span class="pre">set_sorting(KEY,</span> <span class="pre">1,</span> <span class="pre">true)</span></code> becomes <code class="docutils literal"><span class="pre">set_sort_by_value_then_relevance(KEY)</span></code></li>
<li><code class="docutils literal"><span class="pre">set_sorting(ANYTHING,</span> <span class="pre">0)</span></code> becomes <code class="docutils literal"><span class="pre">set_sort_by_relevance()</span></code></li>
<li><code class="docutils literal"><span class="pre">set_sorting(Xapian::BAD_VALUENO,</span> <span class="pre">ANYTHING)</span></code> becomes
<code class="docutils literal"><span class="pre">set_sort_by_relevance()</span></code></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td>1.0.0</td>
<td>Stem::stem_word(word)</td>
<td>Use <code class="docutils literal"><span class="pre">Stem::operator()(word)</span></code> instead.</td>
</tr>
<tr class="row-even"><td>1.0.0</td>
<td>Auto::open(path)</td>
<td>Use the <code class="docutils literal"><span class="pre">Database(path)</span></code> constructor instead.</td>
</tr>
<tr class="row-odd"><td>1.0.0</td>
<td>Auto::open(path, action)</td>
<td>Use the <code class="docutils literal"><span class="pre">WritableDatabase(path,</span> <span class="pre">action)</span></code> constructor instead.</td>
</tr>
<tr class="row-even"><td>1.0.0</td>
<td>Query::is_empty()</td>
<td>Use <code class="docutils literal"><span class="pre">Query::empty()</span></code> instead.</td>
</tr>
<tr class="row-odd"><td>1.0.0</td>
<td>Document::add_term_nopos()</td>
<td>Use <code class="docutils literal"><span class="pre">Document::add_term()</span></code> instead.</td>
</tr>
<tr class="row-even"><td>1.0.0</td>
<td>Enquire::set_bias()</td>
<td>Use <code class="docutils literal"><span class="pre">PostingSource</span></code> instead (new in 1.2).</td>
</tr>
<tr class="row-odd"><td>1.0.0</td>
<td>ExpandDecider::operator()</td>
<td>Return type is now <code class="docutils literal"><span class="pre">bool</span></code> not <code class="docutils literal"><span class="pre">int</span></code>.</td>
</tr>
<tr class="row-even"><td>1.0.0</td>
<td>MatchDecider::operator()</td>
<td>Return type is now <code class="docutils literal"><span class="pre">bool</span></code> not <code class="docutils literal"><span class="pre">int</span></code>.</td>
</tr>
<tr class="row-odd"><td>1.0.0</td>
<td>Error::get_type()</td>
<td>Return type is now <code class="docutils literal"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*</span></code> not <code class="docutils literal"><span class="pre">std::string</span></code>.  Most existing code
won&#8217;t need changes, but if it does the simplest fix is to write
<code class="docutils literal"><span class="pre">std::string(e.get_type())</span></code> instead of <code class="docutils literal"><span class="pre">e.get_type()</span></code>.</td>
</tr>
<tr class="row-even"><td>1.0.0</td>
<td>&lt;xapian/output.h&gt;</td>
<td>Use <code class="docutils literal"><span class="pre">cout</span> <span class="pre">&lt;&lt;</span> <span class="pre">obj.get_description();</span></code> instead of <code class="docutils literal"><span class="pre">cout</span> <span class="pre">&lt;&lt;</span> <span class="pre">obj;</span></code></td>
</tr>
<tr class="row-odd"><td>1.0.0</td>
<td>Several constructors marked
as explicit.</td>
<td>Explicitly create the object type required, for example use
<code class="docutils literal"><span class="pre">Xapian::Enquire</span> <span class="pre">enq(Xapian::Database(path));</span></code> instead of
<code class="docutils literal"><span class="pre">Xapian::Enquire</span> <span class="pre">enq(path);</span></code></td>
</tr>
<tr class="row-even"><td>1.0.0</td>
<td>QueryParser::parse_query() throwing
<code class="docutils literal"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*</span></code> exception.</td>
<td>Catch <code class="docutils literal"><span class="pre">Xapian::QueryParserError</span></code> instead of <code class="docutils literal"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*</span></code>, and call
<code class="docutils literal"><span class="pre">get_msg()</span></code> on the caught object.  If you need to build with either version,
catch both (you&#8217;ll need to compile the part which catches <code class="docutils literal"><span class="pre">QueryParserError</span></code>
conditionally, since this exception isn&#8217;t present in the 0.9 release series).</td>
</tr>
<tr class="row-odd"><td>1.1.0</td>
<td>xapian_version_string()</td>
<td>Use <code class="docutils literal"><span class="pre">version_string()</span></code> instead.</td>
</tr>
<tr class="row-even"><td>1.1.0</td>
<td>xapian_major_version()</td>
<td>Use <code class="docutils literal"><span class="pre">major_version()</span></code> instead.</td>
</tr>
<tr class="row-odd"><td>1.1.0</td>
<td>xapian_minor_version()</td>
<td>Use <code class="docutils literal"><span class="pre">minor_version()</span></code> instead.</td>
</tr>
<tr class="row-even"><td>1.1.0</td>
<td>xapian_revision()</td>
<td>Use <code class="docutils literal"><span class="pre">revision()</span></code> instead.</td>
</tr>
<tr class="row-odd"><td>1.1.0</td>
<td>Enquire::include_query_terms</td>
<td>Use <code class="docutils literal"><span class="pre">Enquire::INCLUDE_QUERY_TERMS</span></code> instead.</td>
</tr>
<tr class="row-even"><td>1.1.0</td>
<td>Enquire::use_exact_termfreq</td>
<td>Use <code class="docutils literal"><span class="pre">Enquire::USE_EXACT_TERMFREQ</span></code> instead.</td>
</tr>
<tr class="row-odd"><td>1.1.0</td>
<td>Error::get_errno()</td>
<td>Use <code class="docutils literal"><span class="pre">Error::get_error_string()</span></code> instead.</td>
</tr>
<tr class="row-even"><td>1.1.0</td>
<td>Enquire::register_match_decider()</td>
<td>This method didn&#8217;t do anything, so just remove calls to it!</td>
</tr>
<tr class="row-odd"><td>1.1.0</td>
<td>Query::Query(Query::op, Query)</td>
<td>This constructor isn&#8217;t useful for any currently implemented
<code class="docutils literal"><span class="pre">Query::op</span></code>.</td>
</tr>
<tr class="row-even"><td>1.1.0</td>
<td>The Quartz backend</td>
<td>Use the Chert backend instead.</td>
</tr>
<tr class="row-odd"><td>1.1.0</td>
<td>Quartz::open()</td>
<td>Use <code class="docutils literal"><span class="pre">Chert::open()</span></code> instead.</td>
</tr>
<tr class="row-even"><td>1.1.0</td>
<td>quartzcheck</td>
<td>Use <code class="docutils literal"><span class="pre">xapian-check</span></code> instead.</td>
</tr>
<tr class="row-odd"><td>1.1.0</td>
<td>quartzcompact</td>
<td>Use <code class="docutils literal"><span class="pre">xapian-compact</span></code> instead.</td>
</tr>
<tr class="row-even"><td>1.1.0</td>
<td>quartzdump</td>
<td>Use <code class="docutils literal"><span class="pre">xapian-inspect</span></code> instead.</td>
</tr>
<tr class="row-odd"><td>1.1.0</td>
<td>configure &#8211;enable-debug</td>
<td>configure &#8211;enable-assertions</td>
</tr>
<tr class="row-even"><td>1.1.0</td>
<td>configure &#8211;enable-debug=full</td>
<td>configure &#8211;enable-assertions &#8211;enable-log</td>
</tr>
<tr class="row-odd"><td>1.1.0</td>
<td>configure &#8211;enable-debug=partial</td>
<td>configure &#8211;enable-assertions=partial</td>
</tr>
<tr class="row-even"><td>1.1.0</td>
<td>configure &#8211;enable-debug=profile</td>
<td>configure &#8211;enable-log=profile</td>
</tr>
<tr class="row-odd"><td>1.1.0</td>
<td>configure &#8211;enable-debug-verbose</td>
<td>configure &#8211;enable-log</td>
</tr>
<tr class="row-even"><td>1.1.0</td>
<td><code class="docutils literal"><span class="pre">Database::positionlist_begin()</span></code>
throwing <code class="docutils literal"><span class="pre">RangeError</span></code> if the
term specified doesn&#8217;t index the
document specified.</td>
<td>This check is quite expensive, and often you don&#8217;t care.  If you
do it&#8217;s easy to check - just open a <code class="docutils literal"><span class="pre">TermListIterator</span></code> for the
document and use <code class="docutils literal"><span class="pre">skip_to()</span></code> to check if the term is there.</td>
</tr>
<tr class="row-odd"><td>1.1.0</td>
<td><code class="docutils literal"><span class="pre">Database::positionlist_begin()</span></code>
throwing <code class="docutils literal"><span class="pre">DocNotFoundError</span></code> if
the document specified doesn&#8217;t
exist.</td>
<td>This check is quite expensive, and often you don&#8217;t care.  If you
do, it&#8217;s easy to check - just call <code class="docutils literal"><span class="pre">Database::get_document()</span></code> with the
specified document ID.</td>
</tr>
<tr class="row-even"><td>1.1.5</td>
<td>delve -k</td>
<td>Accepted as an undocumented alias for -V since 0.9.10 for compatibility with 0.9.9
and earlier.  Just use -V instead.</td>
</tr>
<tr class="row-odd"><td>1.3.0</td>
<td>The Flint backend</td>
<td>Use the Chert backend instead.</td>
</tr>
<tr class="row-even"><td>1.3.0</td>
<td>Flint::open()</td>
<td>Use <code class="docutils literal"><span class="pre">Chert::open()</span></code> instead.</td>
</tr>
<tr class="row-odd"><td>1.3.0</td>
<td>xapian-chert-update</td>
<td>Install Xapian 1.2.x (where x &gt;= 5) to update chert databases from 1.1.3 and
earlier.</td>
</tr>
<tr class="row-even"><td>1.3.0</td>
<td>Default second parameter to
<code class="docutils literal"><span class="pre">Enquire</span></code> sorting functions.</td>
<td><p class="first">The parameter name was <code class="docutils literal"><span class="pre">ascending</span></code> and defaulted to <code class="docutils literal"><span class="pre">true</span></code>.  However
ascending=false gave what you&#8217;d expect the default sort order to be (and probably
think of as ascending) while ascending=true gave the reverse (descending) order.
For sanity, we renamed the parameter to <code class="docutils literal"><span class="pre">reverse</span></code> and deprecated the default
value.  In the more distant future, we&#8217;ll probably add a default again, but of
<code class="docutils literal"><span class="pre">false</span></code> instead.</p>
<p>The methods affected are:
<code class="docutils literal"><span class="pre">Enquire::set_sort_by_value(Xapian::valueno</span> <span class="pre">sort_key)</span></code>
<code class="docutils literal"><span class="pre">Enquire::set_sort_by_key(Xapian::Sorter</span> <span class="pre">*</span> <span class="pre">sorter)</span></code>
<code class="docutils literal"><span class="pre">Enquire::set_sort_by_value_then_relevance(Xapian::valueno</span> <span class="pre">sort_key)</span></code>
<code class="docutils literal"><span class="pre">Enquire::set_sort_by_key_then_relevance(Xapian::Sorter</span> <span class="pre">*</span> <span class="pre">sorter)</span></code>
<code class="docutils literal"><span class="pre">Enquire::set_sort_by_relevance_then_value(Xapian::valueno</span> <span class="pre">sort_key)</span></code>
<code class="docutils literal"><span class="pre">Enquire::set_sort_by_relevance_then_key(Xapian::Sorter</span> <span class="pre">*</span> <span class="pre">sorter)</span></code></p>
<p class="last">To update them, just add a second parameter with value <code class="docutils literal"><span class="pre">true</span></code> to each of the
above calls.  For the methods which take a <code class="docutils literal"><span class="pre">Xapian::Sorter</span></code> object, you&#8217;ll also
need to migrate to <code class="docutils literal"><span class="pre">Xapian::KeyMaker</span></code> (see below).</p>
</td>
</tr>
<tr class="row-odd"><td>1.3.0</td>
<td><code class="docutils literal"><span class="pre">Sorter</span></code> abstract base class.</td>
<td>Use <code class="docutils literal"><span class="pre">KeyMaker</span></code> class instead, which has the same semantics, but has been renamed
to indicate that the keys produced may be used for purposes other than sorting (we
plan to allow collapsing on generated keys in the future).</td>
</tr>
<tr class="row-even"><td>1.3.0</td>
<td><code class="docutils literal"><span class="pre">MultiValueSorter</span></code> class.</td>
<td><p class="first">Use <code class="docutils literal"><span class="pre">MultiValueKeyMaker</span></code> class instead.  Note that <code class="docutils literal"><span class="pre">MultiValueSorter::add()</span></code>
becomes <code class="docutils literal"><span class="pre">MultiValueKeyMaker::add_value()</span></code>, but the sense of the direction flag
is reversed (to be consistent with <code class="docutils literal"><span class="pre">Enquire::set_sort_by_value()</span></code>), so:</p>
<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="n">MultiValueSorter</span> <span class="n">sorter</span><span class="p">;</span>
<span class="c1">// Primary ordering is forwards on value 4.</span>
<span class="n">sorter</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="c1">// Secondary ordering is reverse on value 5.</span>
<span class="n">sorter</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
</pre></div>
</div>
<p>becomes:</p>
<div class="last highlight-c++"><div class="highlight"><pre><span></span><span class="n">MultiValueKeyMaker</span> <span class="n">sorter</span><span class="p">;</span>
<span class="c1">// Primary ordering is forwards on value 4.</span>
<span class="n">sorter</span><span class="p">.</span><span class="n">add_value</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="c1">// Secondary ordering is reverse on value 5.</span>
<span class="n">sorter</span><span class="p">.</span><span class="n">add_value</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td>1.3.0</td>
<td><code class="docutils literal"><span class="pre">matchspy</span></code> parameter to
<code class="docutils literal"><span class="pre">Enquire::get_mset()</span></code></td>
<td>Use the newer <code class="docutils literal"><span class="pre">MatchSpy</span></code> class and <code class="docutils literal"><span class="pre">Enquire::add_matchspy()</span></code> method instead.</td>
</tr>
<tr class="row-even"><td>1.3.0</td>
<td><code class="docutils literal"><span class="pre">Xapian::timeout</span></code> typedef</td>
<td>Use <code class="docutils literal"><span class="pre">unsigned</span></code> instead, which should also work with older Xapian releases.</td>
</tr>
<tr class="row-odd"><td>1.3.0</td>
<td><code class="docutils literal"><span class="pre">Xapian::percent</span></code> typedef</td>
<td>Use <code class="docutils literal"><span class="pre">int</span></code> instead, which should also work with older Xapian releases.</td>
</tr>
<tr class="row-even"><td>1.3.0</td>
<td><code class="docutils literal"><span class="pre">Xapian::weight</span></code> typedef</td>
<td>Use <code class="docutils literal"><span class="pre">double</span></code> instead, which should also work with older Xapian releases.</td>
</tr>
<tr class="row-odd"><td>1.3.0</td>
<td><code class="docutils literal"><span class="pre">Xapian::Query::unserialise()</span></code>
throws
<code class="docutils literal"><span class="pre">Xapian::SerialisationError</span></code> not
<code class="docutils literal"><span class="pre">Xapian::InvalidArgumentError</span></code>
for errors in serialised data</td>
<td>To be compatible with older and newer Xapian, you can catch both exceptions.</td>
</tr>
<tr class="row-even"><td>1.3.2</td>
<td>The Brass backend</td>
<td>Use the Glass backend instead.</td>
</tr>
<tr class="row-odd"><td>1.3.2</td>
<td><code class="docutils literal"><span class="pre">Xapian::Brass::open()</span></code></td>
<td>Use the constructor with <code class="docutils literal"><span class="pre">Xapian::DB_BACKEND_GLASS</span></code> flag (new in 1.3.2) instead.</td>
</tr>
<tr class="row-even"><td>1.3.4</td>
<td>Copy constructors and assignment
operators for classes:
<code class="docutils literal"><span class="pre">Xapian::ExpandDecider</span></code>,
<code class="docutils literal"><span class="pre">Xapian::FieldProcessor</span></code> (new in
1.3.1), <code class="docutils literal"><span class="pre">Xapian::KeyMaker</span></code>,
<code class="docutils literal"><span class="pre">Xapian::MatchDecider</span></code>,
<code class="docutils literal"><span class="pre">Xapian::StemImplementation</span></code>,
<code class="docutils literal"><span class="pre">Xapian::Stopper</span></code> and
<code class="docutils literal"><span class="pre">Xapian::ValueRangeProcessor</span></code>.</td>
<td>We think it was a mistake that implicit copy constructors and assignment operators
were being provided for these functor classes - it&#8217;s hard to use them correctly,
but easy to use them in ways which compile but don&#8217;t work correctly, and we doubt
anyone is intentionally using them, so we&#8217;ve simply removed them.  For more
information, see <a class="reference external" href="https://trac.xapian.org/ticket/681">https://trac.xapian.org/ticket/681</a></td>
</tr>
<tr class="row-odd"><td>1.3.5</td>
<td><code class="docutils literal"><span class="pre">Xapian::DBCHECK_SHOW_BITMAP</span></code></td>
<td>Use <code class="docutils literal"><span class="pre">Xapian::DBCHECK_SHOW_FREELIST</span></code> (added in 1.3.2) instead.
<code class="docutils literal"><span class="pre">Xapian::DBCHECK_SHOW_BITMAP</span></code> was added in 1.3.0, so has never been in a stable
release.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="bindings">
<h2><a class="toc-backref" href="#id21">Bindings</a><a class="headerlink" href="#bindings" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="7%" />
<col width="23%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Removed</th>
<th class="head">Language</th>
<th class="head">Feature name</th>
<th class="head">Upgrade suggestion and comments</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1.0.0</td>
<td>SWIG
<a class="footnote-reference" href="#rswg" id="id1">[1]</a></td>
<td>Enquire::set_sort_forward()</td>
<td><p class="first">Use <code class="docutils literal"><span class="pre">Enquire::set_docid_order()</span></code> instead.</p>
<blockquote class="last">
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">set_sort_forward(true)</span></code> becomes <code class="docutils literal"><span class="pre">set_docid_order(ASCENDING)</span></code></li>
<li><code class="docutils literal"><span class="pre">set_sort_forward(false)</span></code> becomes <code class="docutils literal"><span class="pre">set_docid_order(DESCENDING)</span></code></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td>1.0.0</td>
<td>SWIG
<a class="footnote-reference" href="#rswg" id="id2">[1]</a></td>
<td>Enquire::set_sorting()</td>
<td><p class="first">Use <code class="docutils literal"><span class="pre">Enquire::set_sort_by_relevance()</span></code>, <code class="docutils literal"><span class="pre">Enquire::set_sort_by_value()</span></code>
or <code class="docutils literal"><span class="pre">Enquire::set_sort_by_value_then_relevance()</span></code> instead.</p>
<blockquote class="last">
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">set_sorting(KEY,</span> <span class="pre">1)</span></code> becomes <code class="docutils literal"><span class="pre">set_sort_by_value(KEY)</span></code></li>
<li><code class="docutils literal"><span class="pre">set_sorting(KEY,</span> <span class="pre">1,</span> <span class="pre">false)</span> <span class="pre">becomes</span> <span class="pre">``set_sort_by_value(KEY)</span></code></li>
<li><code class="docutils literal"><span class="pre">set_sorting(KEY,</span> <span class="pre">1,</span> <span class="pre">true)</span></code> becomes
<code class="docutils literal"><span class="pre">set_sort_by_value_then_relevance(KEY)</span></code></li>
<li><code class="docutils literal"><span class="pre">set_sorting(ANYTHING,</span> <span class="pre">0)</span> <span class="pre">becomes</span> <span class="pre">set_sort_by_relevance()</span></code></li>
<li><code class="docutils literal"><span class="pre">set_sorting(Xapian::BAD_VALUENO,</span> <span class="pre">ANYTHING)</span></code> becomes
<code class="docutils literal"><span class="pre">set_sort_by_relevance()</span></code></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td>1.0.0</td>
<td>SWIG
<a class="footnote-reference" href="#rswg" id="id3">[1]</a></td>
<td>Auto::open(path)</td>
<td>Use the <code class="docutils literal"><span class="pre">Database(path)</span></code> constructor instead.</td>
</tr>
<tr class="row-odd"><td>1.0.0</td>
<td>SWIG
<a class="footnote-reference" href="#rswg" id="id4">[1]</a></td>
<td>Auto::open(path, action)</td>
<td>Use the <code class="docutils literal"><span class="pre">WritableDatabase(path,</span> <span class="pre">action)</span></code> constructor instead.</td>
</tr>
<tr class="row-even"><td>1.0.0</td>
<td>SWIG
<a class="footnote-reference" href="#rsw3" id="id5">[3]</a></td>
<td>MSet::is_empty()</td>
<td>Use <code class="docutils literal"><span class="pre">MSet::empty()</span></code> instead.</td>
</tr>
<tr class="row-odd"><td>1.0.0</td>
<td>SWIG
<a class="footnote-reference" href="#rsw3" id="id6">[3]</a></td>
<td>ESet::is_empty()</td>
<td>Use <code class="docutils literal"><span class="pre">ESet::empty()</span></code> instead.</td>
</tr>
<tr class="row-even"><td>1.0.0</td>
<td>SWIG
<a class="footnote-reference" href="#rsw3" id="id7">[3]</a></td>
<td>RSet::is_empty()</td>
<td>Use <code class="docutils literal"><span class="pre">RSet::empty()</span></code> instead.</td>
</tr>
<tr class="row-odd"><td>1.0.0</td>
<td>SWIG
<a class="footnote-reference" href="#rsw3" id="id8">[3]</a></td>
<td>Query::is_empty()</td>
<td>Use <code class="docutils literal"><span class="pre">Query::empty()</span></code> instead.</td>
</tr>
<tr class="row-even"><td>1.0.0</td>
<td>SWIG
<a class="footnote-reference" href="#rswg" id="id9">[1]</a></td>
<td>Document::add_term_nopos()</td>
<td>Use <code class="docutils literal"><span class="pre">Document::add_term()</span></code> instead.</td>
</tr>
<tr class="row-odd"><td>1.0.0</td>
<td>CSharp</td>
<td>ExpandDecider::Apply()</td>
<td>Return type is now <code class="docutils literal"><span class="pre">bool</span></code> instead of <code class="docutils literal"><span class="pre">int</span></code>.</td>
</tr>
<tr class="row-even"><td>1.0.0</td>
<td>CSharp</td>
<td>MatchDecider::Apply()</td>
<td>Return type is now <code class="docutils literal"><span class="pre">bool</span></code> instead of <code class="docutils literal"><span class="pre">int</span></code>.</td>
</tr>
<tr class="row-odd"><td>1.0.0</td>
<td>SWIG
<a class="footnote-reference" href="#rswg" id="id10">[1]</a></td>
<td>Stem::stem_word(word)</td>
<td>Use <code class="docutils literal"><span class="pre">Stem::operator()(word)</span></code> instead. <a class="footnote-reference" href="#callable" id="id11">[4]</a></td>
</tr>
<tr class="row-even"><td>1.1.0</td>
<td>SWIG
<a class="footnote-reference" href="#rswg" id="id12">[1]</a></td>
<td>xapian_version_string()</td>
<td>Use <code class="docutils literal"><span class="pre">version_string()</span></code> instead.</td>
</tr>
<tr class="row-odd"><td>1.1.0</td>
<td>SWIG
<a class="footnote-reference" href="#rswg" id="id13">[1]</a></td>
<td>xapian_major_version()</td>
<td>Use <code class="docutils literal"><span class="pre">major_version()</span></code> instead.</td>
</tr>
<tr class="row-even"><td>1.1.0</td>
<td>SWIG
<a class="footnote-reference" href="#rswg" id="id14">[1]</a></td>
<td>xapian_minor_version()</td>
<td>Use <code class="docutils literal"><span class="pre">minor_version()</span></code> instead.</td>
</tr>
<tr class="row-odd"><td>1.1.0</td>
<td>SWIG
<a class="footnote-reference" href="#rswg" id="id15">[1]</a></td>
<td>xapian_revision()</td>
<td>Use <code class="docutils literal"><span class="pre">revision()</span></code> instead.</td>
</tr>
<tr class="row-even"><td>1.1.0</td>
<td>SWIG
<a class="footnote-reference" href="#rswg" id="id16">[1]</a></td>
<td>ESetIterator::get_termname()</td>
<td>Use <code class="docutils literal"><span class="pre">ESetIterator::get_term()</span></code> instead.  This change is intended to
bring the ESet iterators in line with other term iterators, which all
support <code class="docutils literal"><span class="pre">get_term()</span></code> instead of <code class="docutils literal"><span class="pre">get_termname()</span></code>.</td>
</tr>
<tr class="row-odd"><td>1.1.0</td>
<td>Python</td>
<td>get_description()</td>
<td>All <code class="docutils literal"><span class="pre">get_description()</span></code> methods have been renamed to <code class="docutils literal"><span class="pre">__str__()</span></code>,
so the normal python <code class="docutils literal"><span class="pre">str()</span></code> function can be used.</td>
</tr>
<tr class="row-even"><td>1.1.0</td>
<td>Python</td>
<td>MSetItem.get_*()</td>
<td>All these methods are deprecated, in favour of properties.
To convert, just change <code class="docutils literal"><span class="pre">msetitem.get_FOO()</span></code> to <code class="docutils literal"><span class="pre">msetitem.FOO</span></code></td>
</tr>
<tr class="row-odd"><td>1.1.0</td>
<td>Python</td>
<td>Enquire.get_matching_terms</td>
<td>Replaced by <code class="docutils literal"><span class="pre">Enquire.matching_terms</span></code>, for consistency with
rest of Python API.  Note: an <code class="docutils literal"><span class="pre">Enquire.get_matching_terms</span></code> method existed in
releases up-to and including 1.2.4, but this was actually an old implementation
which only accepted a MSetIterator as a parameter, and would have failed with
code written expecting the version in 1.0.0.  It was fully removed after
release 1.2.4.</td>
</tr>
<tr class="row-even"><td>1.1.0</td>
<td>SWIG
<a class="footnote-reference" href="#rswg" id="id17">[1]</a></td>
<td>Error::get_errno()</td>
<td>Use <code class="docutils literal"><span class="pre">Error::get_error_string()</span></code> instead.</td>
</tr>
<tr class="row-odd"><td>1.1.0</td>
<td>SWIG
<a class="footnote-reference" href="#rsw2" id="id18">[2]</a></td>
<td>MSet::get_document_id()</td>
<td>Use <code class="docutils literal"><span class="pre">MSet::get_docid()</span></code> instead.</td>
</tr>
<tr class="row-even"><td>1.2.0</td>
<td>Python</td>
<td>mset[i][xapian.MSET_DID] etc</td>
<td>This was inadvertently removed in 1.2.0, but not noticed until 1.2.5, by which
point it no longer seemed worthwhile to reinstate it.  Please use the property
API instead, e.g. <code class="docutils literal"><span class="pre">mset[i].docid</span></code>, <code class="docutils literal"><span class="pre">mset[i].weight</span></code>, etc.</td>
</tr>
<tr class="row-odd"><td>1.2.5</td>
<td>Python</td>
<td>if idx in mset</td>
<td>This was nominally implemented, but never actually worked.  Since nobody seems
to have noticed in 3.5 years, we just removed it.  If you have uses (which were
presumably never called), you can replace them with:
<code class="docutils literal"><span class="pre">if</span> <span class="pre">idx</span> <span class="pre">&gt;=</span> <span class="pre">0</span> <span class="pre">and</span> <span class="pre">idx</span> <span class="pre">&lt;</span> <span class="pre">len(mset)</span></code></td>
</tr>
<tr class="row-even"><td>1.3.0</td>
<td>Python</td>
<td>Non-pythonic iterators</td>
<td>Use the pythonic iterators instead.</td>
</tr>
<tr class="row-odd"><td>1.3.0</td>
<td>Python</td>
<td>Stem_get_available_languages</td>
<td>Use Stem.get_available_languages instead (static method instead of function)</td>
</tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="rswg" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id2">2</a>, <a class="fn-backref" href="#id3">3</a>, <a class="fn-backref" href="#id4">4</a>, <a class="fn-backref" href="#id9">5</a>, <a class="fn-backref" href="#id10">6</a>, <a class="fn-backref" href="#id12">7</a>, <a class="fn-backref" href="#id13">8</a>, <a class="fn-backref" href="#id14">9</a>, <a class="fn-backref" href="#id15">10</a>, <a class="fn-backref" href="#id16">11</a>, <a class="fn-backref" href="#id17">12</a>)</em> This affects all SWIG generated bindings (currently: Python, PHP, Ruby, Tcl8 and CSharp)</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="rsw2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id18">[2]</a></td><td>This affects all SWIG-generated bindings except those for Ruby, support for which was added after the function was deprecated in Xapian-core.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="rsw3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[3]</td><td><em>(<a class="fn-backref" href="#id5">1</a>, <a class="fn-backref" href="#id6">2</a>, <a class="fn-backref" href="#id7">3</a>, <a class="fn-backref" href="#id8">4</a>)</em> This affects all SWIG generated bindings except those for Ruby, which was added after the function was deprecated in Xapian-core, and PHP, where empty is a reserved word (and therefore, the method remains &#8220;is_empty&#8221;).</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="callable" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id11">[4]</a></td><td>Python handles this like C++.  Ruby renames it to &#8216;call&#8217; (idiomatic Ruby).  PHP renames it to &#8216;apply&#8217;.  CSharp to &#8216;Apply&#8217; (delegates could probably be used to provide C++-like functor syntax, but that&#8217;s effort and it seems debatable if it would actually be more natural to a C# programmer).  Tcl8 renames it to &#8216;apply&#8217; - need to ask a Tcl type if that&#8217;s the best solution.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="omega">
<h2><a class="toc-backref" href="#id22">Omega</a><a class="headerlink" href="#omega" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="28%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Removed</th>
<th class="head">Feature name</th>
<th class="head">Upgrade suggestion and comments</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1.0.0</td>
<td>$freqs</td>
<td>Use <code class="docutils literal"><span class="pre">$map{$queryterms,$_:&amp;nbsp;$nice{$freq{$_}}}</span></code> instead.</td>
</tr>
<tr class="row-odd"><td>1.0.0</td>
<td>scriptindex -u</td>
<td><code class="docutils literal"><span class="pre">-u</span></code> was ignored for compatibility with 0.7.5 and earlier, so just remove it.</td>
</tr>
<tr class="row-even"><td>1.0.0</td>
<td>scriptindex -q</td>
<td><code class="docutils literal"><span class="pre">-q</span></code> was ignored for compatibility with 0.6.1 and earlier, so just remove it.</td>
</tr>
<tr class="row-odd"><td>1.1.0</td>
<td>scriptindex index=nopos</td>
<td>Use <code class="docutils literal"><span class="pre">indexnopos</span></code> instead.</td>
</tr>
<tr class="row-even"><td>1.3.0</td>
<td><code class="docutils literal"><span class="pre">OLDP</span></code> CGI parameter</td>
<td>Use <code class="docutils literal"><span class="pre">xP</span></code> CGI parameter instead (direct replacement), which has been supported
since at least 0.5.0.</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Features removed from Xapian</a><ul>
<li><a class="reference internal" href="#native-c-api">Native C++ API</a></li>
<li><a class="reference internal" href="#bindings">Bindings</a></li>
<li><a class="reference internal" href="#omega">Omega</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="features_deprecated.html"
                        title="previous chapter">Features currently marked for deprecation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../glossary.html"
                        title="next chapter">Glossary</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/deprecation/features_removed.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../glossary.html" title="Glossary"
             >next</a> |</li>
        <li class="right" >
          <a href="features_deprecated.html" title="Features currently marked for deprecation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Getting Started with Xapian v1.4</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Deprecation of features</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2003-2017 Xapian Documentation Team &amp; Contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.9.
    </div>
  </body>
</html>